<?xml version="1.0"?>
<!--
 Licensed to the Hipparchus project under one or more
 contributor license agreements.  See the NOTICE file distributed with
 this work for additional information regarding copyright ownership.
 The Hipparchus project licenses this file to You under the Apache License, Version 2.0
 (the "License"); you may not use this file except in compliance with
 the License.  You may obtain a copy of the License at

      https://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
-->
<!--
This file is used by the maven-changes-plugin to generate the release notes.
Useful ways of finding items to add to this file are:

1.  Add items when you fix a bug or add a feature (this makes the
release process easy :-).

2.  Do a JIRA search for tickets closed since the previous release.

3.  Use the report generated by the maven-changelog-plugin to see all
SVN commits.

To generate the file RELEASE-NOTES.txt from this file:

mvn changes:announcement-generate -Prelease-notes [-Dchanges.version]

The <action> type attribute can be add,update,fix,remove.
-->

<!-- NOTE:
The description attribute entries below are specially formatted 
so as to improve the layout of the generated text release notes.

The parsing process removes all line feeds, replacing them with a single space.
The Velocity template in src/changes/release-notes.vm has been enhanced to replace pairs of adjacent spaces
with a new-line in the release notes. (These spaces are ignored when displaying HTML).
If the output is not quite correct, check for invisible trailing spaces!
-->

<document>
  <properties>
    <title>Hipparchus ODE Release Notes</title>
  </properties>
  <body>
    <release version="3.0" date="2023-10-08" description="This is a major release.">
      <action dev="luc" type="update" issue="issues/271" due-to="Romain Serra">
        Removed unused mapper in initializeStep.
      </action>
      <action dev="luc" type="add" issue="issues/270">
        Max check interval in events detectors can now depend on current state.
      </action>
      <action dev="luc" type="fix" issue="issues/230">
        Fixed wrong intermediate frame in torque-free motion model.
      </action>
      <action dev="luc" type="add" due-to="Lucas Girodet">
        Added torque-free motion model for non-symmetrical rigid body in ODE tests,
        with analytical theoretical reference solution.
      </action>
      <action dev="luc" type="update" issue="issues/223">
        Separated {Field}ODEEventDetector and {Field}ODEEventHandler.
      </action>
      <action dev="luc" type="update" issue="issues/220">
        Added reset state and stop integration capability at end of step for ODE integrators.
      </action>
    </release>
    <release version="2.3" date="2022-10-05" description="This is a maintenance release.">
      <action dev="luc" type="update">
        No changes directly in this module. However, lower level Hipparchus modules did change,
        hence a new release was needed.
      </action>
    </release>
    <release version="2.2" date="2022-08-10" description="This is a maintenance release.">
      <action dev="luc" type="fix" issue="issues/194">
        Added a getPrimary method to FieldExpandableODE.
      </action>
    </release>
    <release version="2.1" date="2022-04-24" description="This is a maintenance release. It
      includes only one bug fix.">
      <action dev="luc" type="fix" issue="issues/184">
        Fixed non-bracketing issue when RESET_STATE slightly moves an event at the start
        of a step and another regular event happens in the first half of the same step
      </action>
    </release>
    <release version="2.0" date="2021-08-07" description="This is a major release. The mains changes
    are improved relatived scheduling of step handlers and events handlers in ODE, addition of a
    finish callback in step handlers and bug fixes.">
      <action dev="luc" type="add" issue="issues/147">
        Allow retrieving event handler configuration from ODE integrators.
      </action>
      <action dev="luc" type="add" issue="issues/146">
        Added a separate finish method in ODE step handlers to be called after last step.
      </action>
      <action dev="luc" type="fix" issue="issues/145">
        Fixed out-of-order scheduling of calls to step handlers and event handlers.
      </action>
      <action dev="luc" type="fix" issue="issues/121">
        Removed methods and constants deprecated during the 1.x series.
      </action>
      <action dev="luc" type="fix" issue="issues/120">
        Added event filtering for field ODE.
      </action>
      <action dev="luc" type="fix" issue="issues/118" due-to="afossa">
        Use primitive double for initial step and error factors in Field adaptive step size integrators.
      </action>
      <action dev="andrewsgoetz" type="fix" issue="issues/112" due-to="andrewsgoetz">
        Fix interpolation of a pair of ODE states whose times are the same. Such a pair can
        appear when a RESET_STATE or RESET_DERIVATIVES event occurs at the integration
        stop time.
      </action>
    </release>
    <release version="1.8" date="2020-12-05" description="This is a maintenance release.">
      <action dev="luc" type="update">
        No changes directly in this module. However, lower level Hipparchus modules did change,
        hence a new release was needed.
      </action>
    </release>
    <release version="1.7" date="2020-06-23" description="This is a maintenance release. It fixes
    an infinite loop in event handling.">
      <action dev="evan" type="fix" issue="issues/94" due-to="Mikael">
        Fix infinite loop in event handling when a RESET_STATE or RESET_DERIVATIVES event
        causes two other event detectors to trigger simultaneously and discontinuously at
        the same time.
      </action>
    </release>
    <release version="1.6" date="2019-11-01" description="This is a maintenance release.">
      <action dev="luc" type="update">
        No changes directly in this module. However, lower level Hipparchus modules did change,
        hence a new release was needed.
      </action>
    </release>
    <release version="1.5" date="2019-05-06" description="This is a maintenance release. The main
    changes since last version are the introduction reset events in ODE.">
     <action dev="luc" type="fix" issue="issues/62" >
       Fixed missing safety check in multi-step integrators.
       Github: fixes #62.
     </action>
     <action dev="luc" type="fix" issue="issues/54" >
       Avoid too many multi-step integrator restarts after event resetting derivatives.
       Github: fixes #54.
     </action>
     <action dev="evan" type="add">
        Add Action.RESET_EVENTS to ask the integrator to recheck all event detectors
        without recomputing the step. Use when the g function of one event detector
        depends on events occurring in another event detector.
      </action>
    </release>
    <release version="1.4" date="2018-11-17" description="This is a maintenance release. The main
    changes since last version are the introduction of support for complex ordinary differential
    equations (both primary and secondary equations).">
      <action dev="luc" type="add" issue="issues/39" >
        Added support for complex ordinary differential equations (both primary and secondary equations).
        Github: fixes #39.
      </action>
    </release>
    <release version="1.3" date="2018-05-08" description="This is a maintenance release. The main
    changes since last version is that secondary equations can now updates the derivatives of
    the primary equation.">
       <action dev="evan" type="fix">
         Fix Field ODE interpolation with restricted step.
       </action>
       <action dev="luc" type="add" issue="issues/31" >
        Allow secondary equations to update derivatives of primary equation in ODE.
        GitHub: fixes #31.
      </action>
    </release>
    <release version="1.2" date="2017-10-25" description="This is a maintenance release.">
       <action dev="luc" type="update">
        No changes directly in this module. However, lower level Hipparchus modules did change,
        hence a new release was needed.
      </action>
    </release>
    <release version="1.1" date="2017-03-16" description="This is a maintenance release.">
      <action dev="luc" type="fix" issue="issues/7" >
        Fixed Field ODE integrators handling of secondary equations.
        GitHub: fixes #7.
      </action>
    </release>
    <release version="1.0" date="2016-06-23" description="This is the first release of the library">
      <action dev="evan" type="fix">
        Fix out of order event detection in rare cases.
      </action>
      <action dev="luc" type="update">
        Revamped Ordinary Differential Equations API to match
        the new API introduced with field-based ODE.
      </action>
      <action dev="luc" type="fix">
        Fixed wrong handling of state resets in Adams-Bashforth and Adams-Moulton integrators.
      </action>
      <action dev="luc" type="fix">
        Fixed infinite loop when some step reduction was silently filtered to min step
        in Gragg-Bulirsch-Stoer integrator.
      </action>
      <action dev="luc" type="update">
        Added early detection of NaNs appearing during integration.
      </action>
      <action dev="evan" type="fix">
        Enhance reliability of event detection with multiple event detectors.
      </action>
      <action dev="luc" type="update">
        Revamped Ordinary Differential Equations API to match
        the new API introduced with field-based ODE.
      </action>
      <action dev="tn" type="update">
        Modularized the library.
      </action>
    </release>
  </body>
</document>
